(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(65),i=a.n(s),l=(a(71),a(11)),o=a(12),c=a(15),d=a(13),m=a(4),u=a(14),h=a(136),p=a(135),f=a(134),v=a(6),g=a.n(v),E=g.a.initializeApp({apiKey:"AIzaSyBZFTPrsypgvXZDYN80M413o3GofYefaaY",authDomain:"login-7fda6.firebaseapp.com",databaseURL:"https://login-7fda6.firebaseio.com",projectId:"login-7fda6",storageBucket:"login-7fda6.appspot.com",messagingSenderId:"823004768187"}),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).logout=a.logout.bind(Object(m.a)(a)),a.readUserData=a.readUserData.bind(Object(m.a)(a)),a.state={firstname:"",lastname:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){g.a.auth().signOut()}},{key:"readUserData",value:function(e){var t=this;g.a.database().ref("users").once("value",function(a){a.forEach(function(a){var n=a.key,r=a.val();n==e&&t.setState({firstname:r.firstname,lastname:r.lastname})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"user-card"},r.a.createElement("div",{className:"user-avatar-wrapper"},r.a.createElement("div",{className:"user-avatar",src:"http://placehold.it/64x64"})),this.props.uid&&this.readUserData(this.props.uid),r.a.createElement("div",null,this.state.firstname?r.a.createElement("b",null,"First Name:"):r.a.createElement("div",{className:"text-placeholder",style:{width:"87px"}}),this.state.firstname?this.state.firstname:r.a.createElement("div",{className:"text-placeholder",style:{width:"125px"}})),r.a.createElement("div",null,this.state.lastname?r.a.createElement("b",null,"Last Name:"):r.a.createElement("div",{className:"text-placeholder",style:{width:"80px"}}),this.state.lastname?this.state.lastname:r.a.createElement("div",{className:"text-placeholder",style:{width:"140px"}})),r.a.createElement("div",null,this.state.firstname?r.a.createElement("b",null,"Email:"):r.a.createElement("div",{className:"text-placeholder",style:{width:"44px"}}),this.state.firstname?this.props.email:r.a.createElement("div",{className:"text-placeholder",style:{width:"133px"}})),r.a.createElement("div",null,this.state.firstname?r.a.createElement("b",null,"Registered:"):r.a.createElement("div",{className:"text-placeholder",style:{width:"44px"}}),this.state.firstname?this.props.creationTime:r.a.createElement("div",{className:"text-placeholder",style:{width:"214px"}})),r.a.createElement("div",{className:"logout-btn-wrapper"},r.a.createElement("button",{className:"btn btn-secondary",onClick:this.logout},"Logout"))))}}]),t}(n.Component),b=a(31),N=a(133),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).login=a.login.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleFocus=a.handleFocus.bind(Object(m.a)(a)),a.handleBlur=a.handleBlur.bind(Object(m.a)(a)),a.state={email:"",password:"",error:"",emailError:!1,passwordError:!1,wait:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t;"email"==[e.target.name]&&this.setState({emailError:!1}),"password"==[e.target.name]&&this.setState({passwordError:!1}),this.setState((t={},Object(b.a)(t,e.target.name,e.target.value),Object(b.a)(t,"error",""),t))}},{key:"handleFocus",value:function(e){e.target.className="has-val"}},{key:"handleBlur",value:function(e){""==e.target.value&&(e.target.className="")}},{key:"login",value:function(e){var t=this;e.preventDefault(),this.setState({wait:!0}),g.a.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(function(e){t.setState({wait:!1}),t.readUserData()}).catch(function(e){t.setState({wait:!1}),console.log(e.code),"auth/invalid-email"===e.code&&t.setState({emailError:!0,error:"Invalid email"}),"auth/wrong-password"===e.code&&t.setState({passwordError:!0,error:"Wrong password"}),"auth/user-not-found"===e.code&&t.setState({emailError:!0,error:"User not found"})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:this.props.wait?"loader-wrapper":"hidden"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:this.state.wait?"loader-wrapper":"hidden"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"login-screen"},r.a.createElement("form",null,r.a.createElement("h1",{className:"form-header"},"Login"),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.emailError?this.state.error:""},r.a.createElement("input",{value:this.state.email,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"email",name:"email",autoComplete:"off"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Email"})),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.passwordError?this.state.error:""},r.a.createElement("input",{value:this.state.password,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"password",name:"password"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Password"})),r.a.createElement("button",{type:"submit",onClick:this.login,className:"btn btn-primary"},"Login"),r.a.createElement("div",{className:"form-link"},"Don't have an account? ",r.a.createElement(N.a,{to:"/signup"},"Sign up")))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(m.a)(a)),a.signup=a.signup.bind(Object(m.a)(a)),a.state={email:"",password:"",passwordConfirm:"",error:"",emailError:!1,passwordError:!1,passwordConfirmError:!1,firstnameError:!1,lastnameError:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){"firstname"==[e.target.name]&&this.setState({firstnameError:!1}),"lastname"==[e.target.name]&&this.setState({lastnameError:!1}),"email"==[e.target.name]&&this.setState({emailError:!1}),"password"==[e.target.name]&&this.setState({passwordError:!1}),"passwordConfirm"==[e.target.name]&&this.setState({passwordConfirmError:!1}),this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleFocus",value:function(e){e.target.className="has-val"}},{key:"handleBlur",value:function(e){""==e.target.value&&(e.target.className="")}},{key:"signup",value:function(e){var t=this;e.preventDefault(),this.setState({wait:!0}),this.state.password!=this.state.passwordConfirm||this.checkString(this.state.firstname)||this.checkString(this.state.lastname)?(this.setState({wait:!1}),this.state.password!=this.state.passwordConfirm?this.setState({passwordConfirmError:!0,error:"Passwords doesn't match"}):this.checkString(this.state.firstname)?this.setState({firstnameError:!0,error:"Invalid First Name"}):this.checkString(this.state.lastname)&&this.setState({lastnameError:!0,error:"Invalid Last Name"})):g.a.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(e){t.setState({wait:!1}),t.props.history.push("/login"),t.writeUserData(e.user.uid,t.state.firstname,t.state.lastname)}).catch(function(e){t.setState({wait:!1}),"auth/invalid-email"===e.code&&t.setState({emailError:!0,error:"Invalid email"}),"auth/wrong-password"===e.code&&t.setState({passwordError:!0,error:"Password is empty"}),"auth/weak-password"===e.code&&t.setState({passwordError:!0,error:"At least 6 chars"})})}},{key:"checkString",value:function(e){if(e){return!/^[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*/g.test(e)}return!0}},{key:"writeUserData",value:function(e,t,a){g.a.database().ref("users/"+e).set({firstname:t,lastname:a}).then(function(e){console.log("data ",e)}).catch(function(e){console.log("error ",e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:this.state.wait?"loader-wrapper":"hidden"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"login-screen"},r.a.createElement("form",null,r.a.createElement("h1",{className:"form-header"},"Sign up"),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.firstnameError?this.state.error:""},r.a.createElement("input",{value:this.state.firstname,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"text",name:"firstname",autoComplete:"off"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"First Name"})),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.lastnameError?this.state.error:""},r.a.createElement("input",{value:this.state.lastname,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"text",name:"lastname",autoComplete:"off"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Last Name"})),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.emailError?this.state.error:""},r.a.createElement("input",{value:this.state.email,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"email",name:"email",autoComplete:"off"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Email"})),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.passwordError?this.state.error:""},r.a.createElement("input",{value:this.state.password,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"password",name:"password"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Password"})),r.a.createElement("div",{className:"input-wrapper","data-validate":this.state.passwordConfirmError?this.state.error:""},r.a.createElement("input",{value:this.state.passwordConfirm,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,type:"password",name:"passwordConfirm"}),r.a.createElement("span",{className:"focus-input","data-placeholder":"Confirm password"})),r.a.createElement("button",{type:"submit",onClick:this.signup,className:"btn btn-primary"},"Sign up"),r.a.createElement("div",{className:"form-link"},"Already have an account? ",r.a.createElement(N.a,{to:"/login"},"Login")))))}}]),t}(n.Component);a(129);g.a.apps.length||g.a.initializeApp({databaseURL:"<database-url>",projectId:"<project-id>"});var S=!0,k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={user:null,data:{uid:null,email:null,creationTime:null}},a.authListener=a.authListener.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;E.auth().onAuthStateChanged(function(t){S=!1,t?(e.setState({user:t}),e.setState({data:{uid:t.uid,email:t.email,creationTime:t.metadata.creationTime}}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",null,"/login"!=window.location.pathname&&r.a.createElement(p.a,{to:"/login"}),this.state.user&&r.a.createElement(f.a,{path:"/login",render:function(t){return r.a.createElement(w,Object.assign({},t,{uid:e.state.data.uid,email:e.state.data.email,creationTime:e.state.data.creationTime}))}}),!this.state.user&&r.a.createElement(f.a,{path:"/login",render:function(e){return r.a.createElement(y,Object.assign({},e,{wait:S}))}}),!this.state.user&&r.a.createElement(f.a,{path:"/signup",component:C})))}}]),t}(n.Component),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(k,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");j?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):O(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):O(e)})}}()},66:function(e,t,a){e.exports=a(131)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.35399855.chunk.js.map